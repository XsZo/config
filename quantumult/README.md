This config file is for **Quantumult X**, an iOS app.

Just import `profile.conf` or copy its content to linked file, add your subscription link and start using.

`profile.conf` is designed for generic use, and `proxy.conf` will just route all traffic to proxy, but please note that QTX will always do a local DNS look up, and your ISP will thus know your visited sites. The `Global`, `Region`, `US` groups defines where traffic are routed to. `Global` contains traffic to global accessible sites, and `Region` contains streaming and ebook sites which provides local content, except for google which is routed to Global because it's almost impossible to switch google loc by only changing ip addr. Groups like `US` mainly contains streaming and ebook sites that only operates in specific regions. The traffic not match any predefined rules will be routed to Global group. The nodes are generally divided into different regions based on their name. The `backup` dest. requires subtag to contain `[backup]`.

Using rule mode and adding only one rule "`final, proxy`" seems equal to proxy mode, but the's a key difference. Proxy mode directly send ALL of the data receieved to selected destination, but Rule mode will first extract domain name and other data from the traffic, query domain rule database for a match, then do a DNS lookup for all the failed match, query ip rule database for a match, and finally go to final destination. More, all the DNS query caught in Rule mode will get a `198.18.0.0/16` placeholder, and this causes trouble for some services.

There's no good dns solution in PRC, and all `DoH` providers are forced to hijack specific sites, so I added doh-server in `cn.conf` in case some ISPs hijack your dns query to display ads or fraud. But I have to say that QTX's logic over dns is thoughtless, if the first doh server is down, your connection is gone, if the local DNS fail, which happens in specific regions for some providers, your connection is gone, even for addresses listed in filter when the proxy servers are up and do not need dns. Also, this rises concern about dns leak. And for users in developed countries, I personally recommend google and cloudflare, as they are fast in most part of these regions. Adguard is also a good choice for privacy and security, but is a bit slower compared to those above.

~~Since you are looking for configuration files for QTX, I suppose you will use it on iOS or macOS devices, then `captive.apple.com` is a better choice over `google 204`, because google's policy for ip is so loose that you can use ip blacklisted by apple and other major companies to access google services after completing reCaptcha, so using `captive.apple.com` can at least ensure your access to apple services with testable nodes.~~

The test URL is not intended to check if the node is blocked by certain firms, as some websites accepts all traffic for security analysis, but will allow little to access its content. Also, not being blocked by Apple or Google doesn't mean you can access Twitter, TVer and so on, making it useless to choose a good url.

QTX mainly provides `static`, `url-latency-benchmark` and `dest-hash` policy. It's fucing silly to use `avaliable` or `round-robin`, as the former one will only use the first avaliable and ignore all the rest, leading to a overloaded server with many free ones. `round-robin` can make websites recogninze your traffic as attack and suspend your service or ask frequently for a captcha. `dest-hash` is a good fix for this, but you must know that such policy require **all** of the servers to be fast and online, or some of your connection will be lost or slow, and this won't change before the server gets fast again. Also, the establishment of Vmess connection takes a longer time and extra resource, so unless you are very stubborn about it and your provider is well enough, don't use it. `url-latency-benchmark` selects the faster server in group and use it for all connection. It usually works fine and won't double up latency, and the only problem is that if the selected server suddenly gets down, the connection will be dropped until next speed test.

for any issues, please submit it on [github](https://github.com/XsZo/config/discussions).
